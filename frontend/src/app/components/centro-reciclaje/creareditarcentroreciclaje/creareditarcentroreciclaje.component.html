<div class="container" style="text-align: center;margin:2%">
  <div><h1>{{ edicion ? "Actualizar centro de reciclaje" : 'Registrar centro de reciclaje'}}s</h1></div>
  <div>

    <div class="map-container">
      <google-map [center]="center" [zoom]="zoom">
        <map-marker [position]="markerPosition"></map-marker>
      </google-map>
    </div>

    <form [formGroup]="form" (submit)="insertar()">
      <mat-form-field class="example-full-width" *ngIf="edicion">
        <mat-label>C贸digo</mat-label>
        <input matInput formControlName="hcodigo" [disabled]="isCliente()" />
        <mat-error *ngIf="form.get('codigo')?.hasError('required')">
          El codigo es obligatorio
        </mat-error>
      </mat-form-field>
      <br />

      <!-- Campo de Direcci贸n con Autocompletado -->
    <mat-form-field class="example-full-width">
      <mat-label>Direcci贸n</mat-label>
      <input matInput formControlName="hdireccion" [disabled]="isCliente()" #direccionInput (input)="onDireccionInput(direccionInput)" placeholder="Buscar direcci贸n..." />
    </mat-form-field>
    <br />

      <mat-form-field class="example-full-width">
        <mat-label>Latitud</mat-label>
        <input matInput formControlName="hlatitud" [disabled]="isCliente()" />
        <mat-error *ngIf="form.get('hlatitud')?.hasError('required')">
          La latitud es obligatoria.
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Longitud</mat-label>
        <input matInput formControlName="hlongitud" [disabled]="isCliente()" />
        <mat-error *ngIf="form.get('hlongitud')?.hasError('required')">
          La longitud es obligatoria
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Horario</mat-label>
        <input matInput formControlName="hhorario" placeholder="HH:mm:ss" [disabled]="isCliente()" />
        <mat-error *ngIf="form.get('hhorario')?.hasError('required')">
          El horario es obligatorio.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Username</mat-label>
        <mat-select formControlName="husuario" [disabled]="isCliente()">
          <mat-option *ngFor="let m of listaUsuarios" [value]="m.idUser">{{ m.username }}</mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('husuario')?.hasError('required')">
          Asignar un usuario es obligatorio
        </mat-error>
      </mat-form-field>
      <br />


      <div>
        <button mat-flat-button class="custom-button">{{ edicion ? 'ACTUALIZAR' : 'REGISTRAR' }}</button>
      </div>

    </form>
  </div>
</div>
